# Yatube API

### Описание:

Этот API сервис предназначачен для просмотра постов от разных людей, так же возможно стать автором для создания своих собственных постов. Имеется возсможность подписаться на аатора постов, которые понравились. Под каждым постом можно оставить комментарий и посмотреть на комментарии других.

У неаутентифицированных пользователей доступ к API только на чтение. Исключение — эндпоинт /follow/: доступ к нему предоставляется только аутентифицированным пользователям.

Аутентифицированным пользователям разрешено изменение и удаление своего контента. В остальных случаях доступ предоставляется только для чтения.

### Стек:
- Python 3.7
- Django 3.2.16
- Django Rest Framework 3.12.4
- Pytest 6.2.4
- Simple-JWT 4.7.2

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/TutunkinVladislav/api_final_yatube.git
```

```
cd api_final_yatube
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```

```
source venv/Scripts/activate
```

Установить зависимости из файла requirements.txt:

```
python -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python manage.py migrate
```

Запустить проект:

```
python manage.py runserver
```

### Примеры:

Для аутентификации используются JWT-токены.

Для получения токена нужно выполнить POST запрос на: http://127.0.0.1:8000/api/v1/jwt/create/ с параметрами:

```
{
   "username": "username",
   "password": "password"
}
```

Токен нужно бужет передать в заголовок Authorazation с параметром Bearer `токен`

1. api/v1/posts/
   - `GET`: Просмотр всех постов
   - `POST`: Создание поста

2. api/v1/posts/{id}/
   - `GET`: Просмотр поста по его id
   - `PUT`, `PATCH`: Редактирование поста
   - `DELETE`: Удаление поста
   
5. api/v1/posts/{post_id}/comments/
   - `GET`: Просмотр комментариев поста по его id
   - `POST`: Создание нового комментария
   
6. api/v1/posts/{post_id}/comments/{id}/
   - `GET`: Просмотр комментария по его id
   - `PUT`, `PATCH`: Редактирование комментария
   - `DELETE`: Удаление комментария
